window.arstorage=new function CembriStorage(){this.status="idle";this.storageType="localStorage";this.result=[];this.debug=!1;this.encryption=!0;this.maxAge=18E5;CembriStorage.prototype.setDebug=function(a){this.debug=a};CembriStorage.prototype.setEncryption=function(a){this.encryption=a};CembriStorage.prototype.setMaxAge=function(a){this.debug=1E3*a};CembriStorage.prototype.set=function(a,b,d){var c={data:b,created_at:new Date},c=JSON.stringify(c);this.encryption&&(a=btoa(a),c=btoa(c));window[this.storageType].setItem(a,
c);this.debug&&console.info("Set "+a+" : "+b);if("function"==typeof d)return d(!0)};CembriStorage.prototype.get=function(a){this.encryption&&(a=btoa(a));var b=window[this.storageType].getItem(a);if(null==b)return null;this.encryption&&(b=atob(b));b=JSON.parse(b);this.debug&&console.info("Retrieve "+a);var d=new Date-new Date(b.created_at);0!=this.maxAge&&d>this.maxAge&&window[this.storageType].removeItem(a);return b.data};CembriStorage.prototype.remove=function(a){this.encryption&&(a=btoa(a));var b=
window[this.storageType].removeItem(a);this.debug&&console.info("Removing key : "+atob(a));return b};CembriStorage.prototype.check=function(a){var b=!0;this.encryption&&(a=btoa(a));null==window[this.storageType].getItem(a)&&(b=!1);this.debug&&console.info("Check "+atob(a)+" is "+b);return b};return this};